{"ast":null,"code":"import _slicedToArray from \"/Users/pesiakovitz/goApps/src/restaurants/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/Users/pesiakovitz/goApps/src/restaurants/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/Users/pesiakovitz/goApps/src/restaurants/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/Users/pesiakovitz/goApps/src/restaurants/ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport geocode from 'react-geocode';\ngeocode.setApiKey(\"AIzaSyCRLCb1n3Kvi4mUh1HLUjopmtg70iWPZk8\");\nexport function parseData(_x) {\n  return _parseData.apply(this, arguments);\n}\n\nfunction _parseData() {\n  _parseData = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(data) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", Promise.all(data.map(\n            /*#__PURE__*/\n            function () {\n              var _ref = _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee(restaurent) {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.t0 = _objectSpread;\n                        _context.t1 = {};\n                        _context.t2 = restaurent;\n                        _context.next = 5;\n                        return locationToAddress(restaurent.Location);\n\n                      case 5:\n                        _context.t3 = _context.sent;\n                        _context.t4 = {\n                          address: _context.t3\n                        };\n                        return _context.abrupt(\"return\", (0, _context.t0)(_context.t1, _context.t2, _context.t4));\n\n                      case 8:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x4) {\n                return _ref.apply(this, arguments);\n              };\n            }())));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _parseData.apply(this, arguments);\n}\n\nexport function locationToAddress(_x2) {\n  return _locationToAddress.apply(this, arguments);\n}\n\nfunction _locationToAddress() {\n  _locationToAddress = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(location) {\n    var _location$split, _location$split2, lat, lng, response;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _location$split = location.split('/', 2), _location$split2 = _slicedToArray(_location$split, 2), lat = _location$split2[0], lng = _location$split2[1];\n\n            if (!(!lat || !lng)) {\n              _context3.next = 3;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", location);\n\n          case 3:\n            _context3.next = 5;\n            return geocode.fromLatLng(parseFloat(lat), parseFloat(lng));\n\n          case 5:\n            response = _context3.sent;\n            return _context3.abrupt(\"return\", response.results[0].formatted_address);\n\n          case 7:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _locationToAddress.apply(this, arguments);\n}\n\nexport function addressToLocation(_x3) {\n  return _addressToLocation.apply(this, arguments);\n}\n\nfunction _addressToLocation() {\n  _addressToLocation = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4(address) {\n    var response, _response$results$0$g, lat, lng;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return geocode.fromAddress(\"Eiffel Tower\");\n\n          case 2:\n            response = _context4.sent;\n            _response$results$0$g = response.results[0].geometry.location, lat = _response$results$0$g.lat, lng = _response$results$0$g.lng;\n            return _context4.abrupt(\"return\", \"\".concat(lat, \"/\").concat(lng));\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _addressToLocation.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/pesiakovitz/goApps/src/restaurants/ui/src/utils/geoParser.js"],"names":["geocode","setApiKey","parseData","data","Promise","all","map","restaurent","locationToAddress","Location","address","location","split","lat","lng","fromLatLng","parseFloat","response","results","formatted_address","addressToLocation","fromAddress","geometry"],"mappings":";;;;AAAA,OAAOA,OAAP,MAAoB,eAApB;AACAA,OAAO,CAACC,SAAR,CAAkB,yCAAlB;AAEA,gBAAsBC,SAAtB;AAAA;AAAA;;;;;2BAAO,kBAAyBC,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,8CACEC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,GAAL;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAS,iBAAOC,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCACvBA,UADuB;AAAA;AAAA,+BAEXC,iBAAiB,CAACD,UAAU,CAACE,QAAZ,CAFN;;AAAA;AAAA;AAAA;AAE1BC,0BAAAA,OAF0B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAT;;AAAA;AAAA;AAAA;AAAA,gBAAZ,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,gBAAsBF,iBAAtB;AAAA;AAAA;;;;;2BAAO,kBAAiCG,QAAjC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,8BACcA,QAAQ,CAACC,KAAT,CAAe,GAAf,EAAoB,CAApB,CADd,yDACEC,GADF,wBACOC,GADP;;AAAA,kBAED,CAACD,GAAD,IAAQ,CAACC,GAFR;AAAA;AAAA;AAAA;;AAAA,8CAEoBH,QAFpB;;AAAA;AAAA;AAAA,mBAGkBX,OAAO,CAACe,UAAR,CAAmBC,UAAU,CAACH,GAAD,CAA7B,EAAoCG,UAAU,CAACF,GAAD,CAA9C,CAHlB;;AAAA;AAGCG,YAAAA,QAHD;AAAA,8CAIEA,QAAQ,CAACC,OAAT,CAAiB,CAAjB,EAAoBC,iBAJtB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAOP,gBAAsBC,iBAAtB;AAAA;AAAA;;;;;2BAAO,kBAAiCV,OAAjC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACkBV,OAAO,CAACqB,WAAR,CAAoB,cAApB,CADlB;;AAAA;AACCJ,YAAAA,QADD;AAAA,oCAEgBA,QAAQ,CAACC,OAAT,CAAiB,CAAjB,EAAoBI,QAApB,CAA6BX,QAF7C,EAEGE,GAFH,yBAEGA,GAFH,EAEQC,GAFR,yBAEQA,GAFR;AAAA,wDAGKD,GAHL,cAGYC,GAHZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import geocode from 'react-geocode';\ngeocode.setApiKey(\"AIzaSyCRLCb1n3Kvi4mUh1HLUjopmtg70iWPZk8\");\n\nexport async function parseData(data) {\n  return Promise.all(data.map(async (restaurent) =>({\n    ...restaurent,\n    address: await locationToAddress(restaurent.Location)\n  })));\n}\n\nexport async function locationToAddress(location) {\n  const [lat, lng] = location.split('/', 2);\n  if (!lat || !lng) return location;\n  const response = await geocode.fromLatLng(parseFloat(lat), parseFloat(lng))\n  return response.results[0].formatted_address;\n}\n\nexport async function addressToLocation(address) {\n  const response = await geocode.fromAddress(\"Eiffel Tower\")\n  const { lat, lng } = response.results[0].geometry.location;\n  return `${lat}/${lng}`;\n}"]},"metadata":{},"sourceType":"module"}