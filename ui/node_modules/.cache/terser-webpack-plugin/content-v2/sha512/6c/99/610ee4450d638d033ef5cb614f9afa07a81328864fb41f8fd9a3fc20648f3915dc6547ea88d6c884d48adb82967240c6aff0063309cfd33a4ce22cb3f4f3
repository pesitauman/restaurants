{"map":"{\"version\":3,\"sources\":[\"/Users/pesiakovitz/goApps/src/restaurants/ui/src/reducers/store.js\",\"/Users/pesiakovitz/goApps/src/restaurants/ui/src/actions.js\",\"/Users/pesiakovitz/goApps/src/restaurants/ui/src/components/restaurantItem.js\",\"/Users/pesiakovitz/goApps/src/restaurants/ui/src/components/restaurantsTable.js\",\"/Users/pesiakovitz/goApps/src/restaurants/ui/src/components/uploader.js\",\"/Users/pesiakovitz/goApps/src/restaurants/ui/src/components/restaurantEditor.js\",\"/Users/pesiakovitz/goApps/src/restaurants/ui/src/index.js\"],\"names\":[\"reducer\",\"combineReducers\",\"visibilityFilter\",\"state\",\"arguments\",\"length\",\"undefined\",\"action\",\"type\",\"filter\",\"current\",\"data\",\"restaurant\",\"Object\",\"objectSpread\",\"restaurants\",\"r\",\"Id\",\"map\",\"push\",\"apply\",\"toConsumableArray\",\"store\",\"createStore\",\"applyMiddleware\",\"thunk\",\"load\",\"RestaurantItem\",\"_React$Component\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"inherits\",\"createClass\",\"key\",\"value\",\"_this\",\"react_default\",\"a\",\"createElement\",\"props\",\"Name\",\"Type\",\"Phone\",\"Location\",\"onClick\",\"onSetCurrent\",\"React\",\"Component\",\"RestaurantsTable\",\"onFetch\",\"console\",\"log\",\"className\",\"restaurantItem_RestaurantItem\",\"concat\",\"connect\",\"dispatch\",\"axios\",\"get\",\"then\",\"_ref\",\"Uploader\",\"call\",\"fileName\",\"file\",\"event\",\"target\",\"setState\",\"files\",\"_this2\",\"onChange\",\"onFileChange\",\"bind\",\"onUpload\",\"post\",\"headers\",\"Content-Type\",\"_ref2\",\"uploadRestaurants\",\"RestaurantEditor\",\"onPropChange\",\"onUpdate\",\"onDelete\",\"onCancel\",\"preventDefault\",\"put\",\"updateRestaurant\",\"delete\",\"deleteRestaurant\",\"prop\",\"rootElement\",\"document\",\"getElementById\",\"ReactDOM\",\"render\",\"es\",\"restaurantsTable\",\"uploader\",\"restaurantEditor\"],\"mappings\":\"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\",\"sourcesContent\":[\"import { combineReducers, applyMiddleware, createStore } from 'redux'\\n// import { setAxiosConfig, reducer as restaurants } from 'redux-json-api';\\nimport thunk from 'redux-thunk';\\n\\nfunction visibilityFilter(state = '*', action) {\\n  switch (action.type) {\\n    case 'SET_VISIBILITY_FILTER':\\n      return action.filter\\n    default:\\n      return state\\n  }\\n}\\n\\nfunction current(state = null, action) {\\n  switch (action.type) {\\n    case 'SET_CURRENT':\\n      return action.data.restaurant;\\n    case 'RESET_CURRENT':\\n    case 'DELETE':\\n    case 'UPDATE':\\n      return null;\\n    case 'CHANGE_CURRENT':\\n      return { ...state, ...action.data }\\n    default:\\n      return state\\n  }\\n}\\n\\nfunction restaurants(state = [], action) {\\n  switch (action.type) {\\n    case 'DELETE':\\n      return state.filter(r => r.Id !== action.data.Id);\\n    case 'UPDATE':\\n      return state.map((r) => r.Id === action.data.restaurant.Id ? action.data.restaurant : r);\\n    case 'UPLOAD':\\n      return state.push(...action.restaurants);\\n      case 'LOAD':\\n        return action.data;\\n    default:\\n      return state\\n  }\\n}\\n\\nconst reducer = combineReducers({ visibilityFilter, current, restaurants })\\nconst store = createStore(reducer, applyMiddleware(thunk))\\n\\nexport default store\",\"import axios from 'axios';\\n\\nexport function setCurrent(data) {\\n  return {\\n    type: 'SET_CURRENT',\\n    data,\\n  };\\n}\\n\\nexport function load(data) {\\n  return {\\n    type: 'LOAD',\\n    data,\\n  };\\n}\\n\\nexport function update(data) {\\n  return {\\n    type: 'UPDATE',\\n    data,\\n  };\\n}\\n\\nexport function del(data) {\\n  return {\\n    type: 'DELETE',\\n    data,\\n  };\\n}\\n\\nexport function upload(data) {\\n  return {\\n    type: 'UPLOAD',\\n    data,\\n  };\\n}\\n\\nexport function resetCurrentRestaurant(data) {\\n  return {\\n    type: 'RESET_CURRENT',\\n    data,\\n  };\\n}\\nexport function changeCurrentRestaurant(data) {\\n  return {\\n    type: 'CHANGE_CURRENT',\\n    data,\\n  };\\n}\\n\\nexport function fetchRestaurants() {\\n  return function(dispatch) {\\n    return axios.get(\\\"api/restaurants/\\\")\\n      .then(({ data }) => {\\n      dispatch(load(data));\\n    });\\n  };\\n}\\n\\nexport function updateRestaurant(restaurant) {\\n  return function(dispatch) {\\n    return axios.put(`api/restaurants/${restaurant.Id}`, restaurant)\\n      .then(() => {\\n        console.log('data:::::',restaurant)\\n      dispatch(update({ restaurant }));\\n    });\\n  };\\n}\\n\\nexport function deleteRestaurant(restaurant) {\\n  return function(dispatch) {\\n    return axios.delete(`api/restaurants/${restaurant.Id}`)\\n      .then(() => {\\n      dispatch(del({ Id: restaurant.Id }));\\n    });\\n  };\\n}\\n\\nexport function uploadRestaurants(file) {\\n  console.log(':::::::::::::::::::::::',file)\\n  return function(dispatch) {\\n    return axios.post(\\\"api/restaurants/upload\\\",\\n    { file },\\n    { data: {file},\\n       headers: { 'Content-Type': 'application/x-www-form-urlencoded' }}\\n    ).then(({ data }) => {\\n      dispatch(load(data));\\n    });\\n  };\\n}\",\"import React from \\\"react\\\";\\n\\nexport class RestaurantItem extends React.Component {\\n  render() {\\n    return (\\n      <tr>\\n        <td>{this.props.restaurant.Name} </td>\\n        <td>{this.props.restaurant.Type} </td>\\n        <td>{this.props.restaurant.Phone} </td>\\n        <td>{this.props.restaurant.Location} </td>\\n        <td>\\n          <input\\n            type='button'\\n            value='edit'\\n            onClick={() => this.props.onSetCurrent(this.props.restaurant)}\\n          />\\n        </td>\\n      </tr>\\n    )\\n  }\\n}\",\"import React from \\\"react\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport { fetchRestaurants, setCurrent } from '../actions'\\nimport { RestaurantItem } from './restaurantItem'\\n\\nclass RestaurantsTable extends React.Component {\\n  componentDidMount() {\\n    this.props.onFetch();\\n  }\\n  \\n  render() {\\n    console.log(this.props.restaurants)\\n    return (\\n      <table className=\\\"restaurant-list\\\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>Type</th>\\n            <th>Phone</th>\\n            <th>Location</th>\\n          </tr>\\n        </thead>\\n\\n        <tbody>\\n        {this.props.restaurants && this.props.restaurants.length\\n          ? this.props.restaurants.map((restaurant) => {\\n              console.log('9*******', restaurant)\\n              return (\\n                <RestaurantItem\\n                  key={`restaurant-${restaurant.Id}`}\\n                  restaurant={restaurant}\\n                  onSetCurrent={this.props.onSetCurrent}\\n                />\\n              );\\n            })\\n          : <tr><td>No restaurants</td></tr>}\\n        </tbody>\\n      </table>\\n\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = (state) => {\\n  console.log('@@@@@@@@@@@@',state)\\n  const restaurants = state.restaurants || { data: [] };\\n  return { restaurants }\\n};\\n\\nconst mapDispatchToProps = (dispatch) => {\\n  return {\\n    onFetch: () => {\\n      dispatch(fetchRestaurants());\\n    },\\n    onSetCurrent: (restaurant) => {\\n      dispatch(setCurrent({ restaurant }));\\n    },\\n  };\\n};\\n// export default restaurantList;\\nexport default connect(mapStateToProps, mapDispatchToProps)(RestaurantsTable);\\n\",\"import React from \\\"react\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport { uploadRestaurants } from '../actions'\\n\\nclass Uploader extends React.Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {\\n      fileName: '',\\n      file: {},\\n    }\\n  }\\n\\n  onFileChange(event) {\\n    console.log('{{{{{{{', event.target.value, this)\\n    this.setState({\\n      fileName: event.target.value,\\n      file: event.target.files[0],\\n    })\\n  }\\n  \\n  render() {\\n    console.log('props:::::',this.props)\\n    return (\\n      <div>\\n        <input\\n          className=\\\"restaurant-input\\\"\\n          type=\\\"file\\\"\\n          value={this.state.fileName}\\n          onChange={this.onFileChange.bind(this)}\\n        />\\n        <input\\n          type=\\\"button\\\"\\n          value=\\\"Upload\\\"\\n          onClick={() => this.props.onUpload(this.state.file)}\\n        />\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapDispatchToProps = (dispatch) => {\\n  return {\\n    onUpload: (file) => {\\n      console.log('dddddd', file)\\n      dispatch(uploadRestaurants(file))\\n    },\\n  };\\n};\\n// export default restaurantList;\\nexport default connect(null, mapDispatchToProps)(Uploader);\\n\",\"import React from \\\"react\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport { updateRestaurant, deleteRestaurant, resetCurrentRestaurant, changeCurrentRestaurant } from '../actions'\\n\\nclass RestaurantEditor extends React.Component {\\n  constructor(props) {\\n    super(props);\\n    this.state = {}\\n  }\\n  \\n  render() {\\n    if(!this.props.restaurant) return '';\\n    console.log('props:::::',this.props)\\n    return (\\n      <div>\\n      <form>\\n        <h3>Restaurant Editor</h3>\\n        <p>\\n          <label>Name</label>\\n          <input\\n            value={this.props.restaurant.Name}\\n            onChange={(event) => this.props.onPropChange({ Name: event.target.value})}\\n          />\\n        </p>\\n        <p>\\n          <label>Type</label>\\n          <input\\n            value={this.props.restaurant.Type}\\n            onChange={(event) => this.props.onPropChange({ Type: event.target.value})}\\n          />\\n        </p>\\n        <p>\\n          <label>Phone</label>\\n          <input\\n            value={this.props.restaurant.Phone}\\n            onChange={(event) => this.props.onPropChange({ Phone: event.target.value})}\\n          />\\n        </p>\\n        <p>\\n          <label>Location</label>\\n          <input\\n            value={this.props.restaurant.Location}\\n            onChange={(event) => this.props.onPropChange({ Location: event.target.value})}\\n          />\\n        </p>\\n        <button onClick={(event) => this.props.onUpdate(event, this.props.restaurant)}>Save</button>\\n        <button onClick={(event) => this.props.onDelete(event, this.props.restaurant)}>Delete</button>\\n        <button onClick={(event) => this.props.onCancel(event, this.props.restaurant)}>Cancel</button>\\n      </form>\\n    </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = (state) => {\\n  return { restaurant: state.current }\\n};\\n\\nconst mapDispatchToProps = (dispatch) => {\\n  return {\\n    onUpdate: (event, restaurant) => {\\n      event.preventDefault();\\n      console.log('dddddd', restaurant)\\n      dispatch(updateRestaurant(restaurant))\\n    },\\n    onDelete: (event, restaurant) => {\\n      event.preventDefault();\\n      console.log('dddddd', restaurant)\\n      dispatch(deleteRestaurant(restaurant))\\n    },\\n    onCancel: (event, restaurant) => {\\n      event.preventDefault();\\n      console.log('dddddd', restaurant)\\n      dispatch(resetCurrentRestaurant(restaurant))\\n    },\\n    onPropChange: (prop) => {\\n      dispatch(changeCurrentRestaurant(prop))\\n    },\\n  };\\n};\\n\\nexport default connect(mapStateToProps, mapDispatchToProps)(RestaurantEditor);\\n\",\"import React from \\\"react\\\";\\nimport ReactDOM from \\\"react-dom\\\";\\n\\nimport { Provider } from \\\"react-redux\\\";\\nimport store from \\\"./reducers/store\\\";\\n\\nimport 'bootstrap/dist/css/bootstrap.min.css';\\nimport RestaurantsTable from \\\"./components/restaurantsTable\\\";\\nimport Uploader from \\\"./components/uploader\\\";\\nimport RestaurantEditor from \\\"./components/restaurantEditor\\\";\\n\\nconst rootElement = document.getElementById(\\\"app\\\");\\n\\nReactDOM.render(\\n  <Provider  store={store}>\\n    <RestaurantsTable/>\\n    <Uploader/>\\n    <RestaurantEditor/>\\n  </Provider>,\\n  rootElement\\n);\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(56)},56:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),u=n(12),l=n.n(u),o=n(6),c=n(25),s=n(26),i=n(10),p=n(24);var d=Object(i.c)({visibilityFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"*\",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SET_VISIBILITY_FILTER\":return t.filter;default:return e}},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"SET_CURRENT\":return t.data.restaurant;case\"RESET_CURRENT\":case\"DELETE\":case\"UPDATE\":return null;case\"CHANGE_CURRENT\":return Object(s.a)({},e,t.data);default:return e}},restaurants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"DELETE\":return e.filter(function(e){return e.Id!==t.data.Id});case\"UPDATE\":return e.map(function(e){return e.Id===t.data.restaurant.Id?t.data.restaurant:e});case\"UPLOAD\":return e.push.apply(e,Object(c.a)(t.restaurants));case\"LOAD\":return t.data;default:return e}}}),h=Object(i.d)(d,Object(i.a)(p.a)),f=(n(37),n(3)),E=n(4),m=n(7),b=n(5),v=n(8),g=n(11),C=n.n(g);function y(e){return{type:\"LOAD\",data:e}}var O=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,this.props.restaurant.Name,\" \"),r.a.createElement(\"td\",null,this.props.restaurant.Type,\" \"),r.a.createElement(\"td\",null,this.props.restaurant.Phone,\" \"),r.a.createElement(\"td\",null,this.props.restaurant.Location,\" \"),r.a.createElement(\"td\",null,r.a.createElement(\"input\",{type:\"button\",value:\"edit\",onClick:function(){return e.props.onSetCurrent(e.props.restaurant)}})))}}]),t}(r.a.Component),j=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(E.a)(t,[{key:\"componentDidMount\",value:function(){this.props.onFetch()}},{key:\"render\",value:function(){var e=this;return console.log(this.props.restaurants),r.a.createElement(\"table\",{className:\"restaurant-list\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,\"Name\"),r.a.createElement(\"th\",null,\"Type\"),r.a.createElement(\"th\",null,\"Phone\"),r.a.createElement(\"th\",null,\"Location\"))),r.a.createElement(\"tbody\",null,this.props.restaurants&&this.props.restaurants.length?this.props.restaurants.map(function(t){return console.log(\"9*******\",t),r.a.createElement(O,{key:\"restaurant-\".concat(t.Id),restaurant:t,onSetCurrent:e.props.onSetCurrent})}):r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"No restaurants\"))))}}]),t}(r.a.Component),T=Object(o.b)(function(e){return console.log(\"@@@@@@@@@@@@\",e),{restaurants:e.restaurants||{data:[]}}},function(e){return{onFetch:function(){e(function(e){return C.a.get(\"api/restaurants/\").then(function(t){var n=t.data;e(y(n))})})},onSetCurrent:function(t){e({type:\"SET_CURRENT\",data:{restaurant:t}})}}})(j),N=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(m.a)(this,Object(b.a)(t).call(this,e))).state={fileName:\"\",file:{}},n}return Object(v.a)(t,e),Object(E.a)(t,[{key:\"onFileChange\",value:function(e){console.log(\"{{{{{{{\",e.target.value,this),this.setState({fileName:e.target.value,file:e.target.files[0]})}},{key:\"render\",value:function(){var e=this;return console.log(\"props:::::\",this.props),r.a.createElement(\"div\",null,r.a.createElement(\"input\",{className:\"restaurant-input\",type:\"file\",value:this.state.fileName,onChange:this.onFileChange.bind(this)}),r.a.createElement(\"input\",{type:\"button\",value:\"Upload\",onClick:function(){return e.props.onUpload(e.state.file)}}))}}]),t}(r.a.Component),D=Object(o.b)(null,function(e){return{onUpload:function(t){console.log(\"dddddd\",t),e(function(e){return console.log(\":::::::::::::::::::::::\",e),function(t){return C.a.post(\"api/restaurants/upload\",{file:e},{data:{file:e},headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(function(e){var n=e.data;t(y(n))})}}(t))}}})(N),R=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(m.a)(this,Object(b.a)(t).call(this,e))).state={},n}return Object(v.a)(t,e),Object(E.a)(t,[{key:\"render\",value:function(){var e=this;return this.props.restaurant?(console.log(\"props:::::\",this.props),r.a.createElement(\"div\",null,r.a.createElement(\"form\",null,r.a.createElement(\"h3\",null,\"Restaurant Editor\"),r.a.createElement(\"p\",null,r.a.createElement(\"label\",null,\"Name\"),r.a.createElement(\"input\",{value:this.props.restaurant.Name,onChange:function(t){return e.props.onPropChange({Name:t.target.value})}})),r.a.createElement(\"p\",null,r.a.createElement(\"label\",null,\"Type\"),r.a.createElement(\"input\",{value:this.props.restaurant.Type,onChange:function(t){return e.props.onPropChange({Type:t.target.value})}})),r.a.createElement(\"p\",null,r.a.createElement(\"label\",null,\"Phone\"),r.a.createElement(\"input\",{value:this.props.restaurant.Phone,onChange:function(t){return e.props.onPropChange({Phone:t.target.value})}})),r.a.createElement(\"p\",null,r.a.createElement(\"label\",null,\"Location\"),r.a.createElement(\"input\",{value:this.props.restaurant.Location,onChange:function(t){return e.props.onPropChange({Location:t.target.value})}})),r.a.createElement(\"button\",{onClick:function(t){return e.props.onUpdate(t,e.props.restaurant)}},\"Save\"),r.a.createElement(\"button\",{onClick:function(t){return e.props.onDelete(t,e.props.restaurant)}},\"Delete\"),r.a.createElement(\"button\",{onClick:function(t){return e.props.onCancel(t,e.props.restaurant)}},\"Cancel\")))):\"\"}}]),t}(r.a.Component),I=Object(o.b)(function(e){return{restaurant:e.current}},function(e){return{onUpdate:function(t,n){t.preventDefault(),console.log(\"dddddd\",n),e(function(e){return function(t){return C.a.put(\"api/restaurants/\".concat(e.Id),e).then(function(){console.log(\"data:::::\",e),t({type:\"UPDATE\",data:{restaurant:e}})})}}(n))},onDelete:function(t,n){t.preventDefault(),console.log(\"dddddd\",n),e(function(e){return function(t){return C.a.delete(\"api/restaurants/\".concat(e.Id)).then(function(){t({type:\"DELETE\",data:{Id:e.Id}})})}}(n))},onCancel:function(t,n){t.preventDefault(),console.log(\"dddddd\",n),e({type:\"RESET_CURRENT\",data:n})},onPropChange:function(t){e({type:\"CHANGE_CURRENT\",data:t})}}})(R),U=document.getElementById(\"app\");l.a.render(r.a.createElement(o.a,{store:h},r.a.createElement(T,null),r.a.createElement(D,null),r.a.createElement(I,null)),U)}},[[27,1,2]]]);","extractedComments":[]}